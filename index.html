<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skate Park Pro</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background: #333;
            color: white;
        }
        
        #gameCanvas {
            display: block;
            width: 100%;
            height: 100%;
            background-color: #87ceeb; /* Fallback sky blue */
        }
        
        #debugPanel {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: #fff;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            z-index: 100;
        }
    </style>
</head>
<body>
    <!-- Debug panel to confirm page is loading -->
    <div id="debugPanel">
        Debug Panel: Page loaded
        <div id="debugInfo">Waiting for initialization...</div>
    </div>
    
    <canvas id="gameCanvas"></canvas>
    
    <!-- Ultra-simplified direct rendering approach -->
    <script>
        // Debug helper function
        function debugLog(message) {
            console.log(message);
            const debugElement = document.getElementById('debugInfo');
            if (debugElement) {
                debugElement.innerHTML += '<br>' + message;
            }
        }
        
        debugLog('Script starting...');
        
        // Create a simple scene directly
        function initScene() {
            try {
                debugLog('Initializing scene...');
                
                // Get canvas
                const canvas = document.getElementById('gameCanvas');
                if (!canvas) {
                    throw new Error('Canvas not found');
                }
                debugLog('Canvas found');
                
                // Basic scene setup with vanilla JavaScript
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                
                // Simple 2D fallback rendering using canvas context
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    throw new Error('Could not get canvas context');
                }
                debugLog('Got 2D context');
                
                // Fill with color
                ctx.fillStyle = 'skyblue';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Draw ground
                ctx.fillStyle = 'gray';
                ctx.fillRect(0, canvas.height * 0.7, canvas.width, canvas.height * 0.3);
                
                // Draw a green cube
                ctx.fillStyle = 'green';
                ctx.fillRect(canvas.width / 2 - 50, canvas.height / 2 - 50, 100, 100);
                
                debugLog('2D rendering complete');
                
                // Try to load THREE.js dynamically
                const threeScript = document.createElement('script');
                threeScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
                threeScript.onload = initThree;
                threeScript.onerror = (e) => {
                    debugLog('Error loading THREE.js from CDN: ' + e);
                    debugLog('Using 2D fallback renderer');
                };
                document.body.appendChild(threeScript);
                
                debugLog('THREE.js script added');
            } catch (error) {
                debugLog('Error initializing: ' + error.message);
            }
        }
        
        // Initialize THREE.js if available
        function initThree() {
            try {
                debugLog('THREE.js loaded, initializing 3D scene...');
                
                const canvas = document.getElementById('gameCanvas');
                
                // Basic THREE.js setup
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                
                const renderer = new THREE.WebGLRenderer({
                    canvas: canvas,
                    antialias: true
                });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setClearColor(0x87ceeb); // Sky blue
                
                debugLog('THREE.js renderer initialized');
                
                // Add a simple cube
                const geometry = new THREE.BoxGeometry(1, 1, 1);
                const material = new THREE.MeshBasicMaterial({color: 0x00ff00});
                const cube = new THREE.Mesh(geometry, material);
                scene.add(cube);
                
                // Add a ground plane
                const planeGeometry = new THREE.PlaneGeometry(10, 10);
                const planeMaterial = new THREE.MeshBasicMaterial({
                    color: 0x808080,
                    side: THREE.DoubleSide
                });
                const plane = new THREE.Mesh(planeGeometry, planeMaterial);
                plane.rotation.x = Math.PI / 2;
                plane.position.y = -2;
                scene.add(plane);
                
                // Position camera
                camera.position.z = 5;
                
                debugLog('3D objects added to scene');
                
                // Animation function
                function animate() {
                    requestAnimationFrame(animate);
                    
                    // Rotate the cube
                    cube.rotation.x += 0.01;
                    cube.rotation.y += 0.01;
                    
                    renderer.render(scene, camera);
                }
                
                animate();
                debugLog('Animation loop started');
                
            } catch (error) {
                debugLog('THREE.js Error: ' + error.message);
            }
        }
        
        // Start everything
        window.onload = function() {
            debugLog('Window loaded, starting initialization');
            initScene();
        };
    </script>
</body>
</html> 